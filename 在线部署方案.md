# 在线部署方案 - 最少安装软件

本方案使用在线服务，**只需要安装 Node.js**，其他全部使用在线服务。

## 方案一：使用免费在线数据库 + 本地开发（推荐）

### 需要的软件
- ✅ **Node.js**（已安装）
- ✅ **代码编辑器**（如 VS Code，已安装）

### 数据库选择（免费在线MySQL服务）

#### 选项1：PlanetScale（推荐）
- 免费额度：5GB存储，每月10亿行读取
- 网址：https://planetscale.com
- 特点：无需管理，自动备份，分支功能

#### 选项2：Railway
- 免费额度：$5/月额度
- 网址：https://railway.app
- 特点：可同时部署数据库和后端

#### 选项3：Supabase（PostgreSQL，需修改配置）
- 免费额度：500MB数据库
- 网址：https://supabase.com
- 特点：功能丰富，包含认证等

#### 选项4：Aiven（MySQL）
- 免费试用：14天免费试用
- 网址：https://aiven.io

### 配置步骤

1. **注册并创建数据库**
   - 选择上述任一服务注册账号
   - 创建MySQL数据库实例
   - 获取数据库连接字符串

2. **配置后端环境变量**
   - 复制 `backend/env.example` 为 `backend/.env`
   - 填入数据库连接字符串

3. **本地运行**
   - 后端：`cd backend && npm run dev`
   - 前端：`cd frontend && npm run dev`

---

## 方案二：完全在线部署（零本地安装）

### 需要的软件
- ✅ **Node.js**（仅用于开发，生产环境不需要）

### 部署平台选择

#### 后端部署
- **Railway**：https://railway.app（可同时部署数据库+后端）
- **Render**：https://render.com（免费额度）
- **Fly.io**：https://fly.io（免费额度）
- **Vercel**：https://vercel.com（Serverless函数）

#### 前端部署
- **Vercel**：https://vercel.com（推荐，自动部署）
- **Netlify**：https://netlify.com
- **GitHub Pages**：免费静态托管

### 完全在线部署流程

1. **数据库**：使用 PlanetScale 或 Railway 创建MySQL
2. **后端**：部署到 Railway/Render
3. **前端**：部署到 Vercel/Netlify
4. **访问**：通过部署后的URL访问系统

---

## 方案三：使用 Docker（可选，更简单）

如果不想使用在线服务，可以使用 Docker，只需要安装 Docker Desktop。

### 需要的软件
- ✅ **Docker Desktop**：https://www.docker.com/products/docker-desktop

### 优势
- 一键启动所有服务（数据库+后端+前端）
- 无需配置数据库
- 本地完整运行环境

---

## 推荐方案：PlanetScale + 本地开发

这是最简单且免费的方案：

### 步骤1：注册 PlanetScale
1. 访问 https://planetscale.com
2. 使用 GitHub 账号注册（免费）
3. 创建新数据库

### 步骤2：获取连接字符串
1. 在 PlanetScale 控制台点击数据库
2. 点击 "Connect" 获取连接字符串
3. 格式类似：`mysql://用户名:密码@主机:端口/数据库名`

### 步骤3：配置项目
1. 复制 `backend/env.example` 为 `backend/.env`
2. 填入数据库连接字符串
3. 设置 JWT_SECRET（随机字符串）

### 步骤4：初始化数据库
```bash
cd backend
npm run prisma:generate
npm run prisma:migrate
```

### 步骤5：启动项目
```bash
# 后端（新终端）
cd backend
npm run dev

# 前端（新终端）
cd frontend
npm install  # 如果还没安装
npm run dev
```

---

## 快速开始脚本

我将为您创建一个快速配置脚本，帮助您完成配置。
